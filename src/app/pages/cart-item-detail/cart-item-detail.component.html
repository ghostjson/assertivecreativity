<div class="cart-item-detail-component">
  <app-header></app-header>
  <div class="container">
    <div *ngIf="cartItem" class="row justify-content-center">
      <div class="col-12">
        <p-card>
          <p-header>
            <h1 class="order-summary__title">Order Summary</h1>
          </p-header>
          <div class="d-flex justify-content-center">
            <div
              class="row justify-content-between align-items-stretch mt-5 mb-5"
            >
              <div
                class="col-12 col-md-6 d-flex flex-column justify-content-start"
              >
                <app-product-summary-card
                  [name]="cartItem.product.name"
                  [image]="cartItem.product.image"
                  [description]="cartItem.product.description"
                  [totalPrice]="
                    cartItem.custom_forms_entry
                      ? cartItem.custom_forms_entry.total_price
                      : cartItem.product.base_price
                  "
                ></app-product-summary-card>
              </div>
              <div
                class="pick-delivery-date col-12 col-md-5 d-flex justify-content-center mt-5 mt-md-0"
              >
                <p-card header="Choose Delivery Date">
                  <div class="date-picker">
                    <label for="delivery-date-picker">
                      Select delivery date
                      <sup>*</sup>
                    </label>
                    <p-calendar
                      [(ngModel)]="orderDeliveryDate"
                      [minDate]="minDate"
                      inputId="date-range"
                      styleClass="shadow"
                      placeholder="Delivery Date"
                    ></p-calendar>
                  </div>
                  <div class="date-picker">
                    <label for="delivery-date-picker">
                      Select meeting date
                      <sup>*</sup>
                    </label>
                    <p-calendar
                      [minDate]="minDate"
                      inputId="date-range"
                      styleClass="shadow"
                      placeholder="Meeting Date"
                    ></p-calendar>
                  </div>
                  <div class="date-picker">
                    <label for="delivery-date-picker">
                      Select confirmation date
                      <sup>*</sup>
                    </label>
                    <p-calendar
                      [minDate]="minDate"
                      inputId="date-range"
                      styleClass="shadow"
                      placeholder="Confirmation Date"
                    ></p-calendar>
                  </div>
                </p-card>
              </div>
            </div>
          </div>
        </p-card>
      </div>
      <div class="mt-5">
        <app-order-summary-table
          *ngIf="cartItem.custom_forms_entry"
          [customFormsEntry]="
            cartItem.custom_forms_entry.forms_input.custom_forms
          "
          [totalPrice]="cartItem.custom_forms_entry.total_price"
        ></app-order-summary-table>
      </div>
      <div class="place-order-footer col-12 p-3 shadow text-right mt-4 mb-5">
        <button
          label="Place Order"
          icon="pi pi-arrow-right"
          iconPos="right"
          type="submit"
          class="p-button-primary p-button-lg"
          [disabled]="!orderDeliveryDate"
          (click)="confirmOrder()"
          pButton
        ></button>
      </div>
    </div>
  </div>
  <app-footer></app-footer>
</div>
