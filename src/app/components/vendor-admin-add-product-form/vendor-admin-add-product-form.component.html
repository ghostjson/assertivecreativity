<ng-container>
  <form
    [formGroup]="newProductForm"
  >
    <p-card styleClass="form-card base-details">
      <p-header styleClass="form-card__header">
        Enter the product details
      </p-header>
      <div class="form-card__body">
        <div class="form-group">
          <label class="form-group__label" for="name">
            Enter product name:
          </label>
          <input
            id="name"
            formControlName="name"
            type="text" class="input-group__input"
            pInputText
          >
        </div>
        <div class="form-group">
          <label class="form-group__label" for="serial">
            Enter product serial:
          </label>
          <input
            id="serial"
            formControlName="serial"
            type="text" class="input-group__input"
            pInputText
          >
        </div>
        <div class="form-group">
          <label class="form-group__label" for="description">
            Enter product description:
          </label>
          <textarea
            class="input-group__input"
            id="description"
            formControlName="description"
            pInputTextarea
            [rows]="5"
            [cols]="30"
            autoResize="autoResize"
          ></textarea>
        </div>
        <div class="form-group">
          <label class="form-group__label" for="basePrice"></label>
          <div class="ui-inputgroup input-group">
            <!-- <span class="ui-inputgroup-addon">$</span> -->
            <input
              id="basePrice"
              formControlName="basePrice"
              type="number"
              pInputText
              placeholder="Price Per Piece"
            >
            <i class="material-icons ui-inputgroup-addon">
              money
            </i>
            <!-- <span class="ui-inputgroup-addon">.00</span>       -->
          </div>
        </div>
        <div class="form-group">
          <label class="form-group__label" for="stock">
            Stock Available
          </label>
          <div class="ui-inputgroup input-group">
            <input
              id="stock"
              formControlName="stock"
              type="number"
              pInputText
              placeholder="Stock Currently Available"
            >
            <i class="material-icons ui-inputgroup-addon">
              store_mall_directory
            </i>
            <!-- <span class="ui-inputgroup-addon">.00</span>       -->
          </div>
        </div>
        <div class="form-group">
          <label class="form-group__label" for="categories">
            Select product categories
          </label>
          <div class="input-group">
            <app-admin-category-selector
              [formGroup]="newProductForm"
            ></app-admin-category-selector>
          </div>
        </div>
        <div class="form-group">
          <label class="form-group__label" for="image">
            Upload product images
          </label>
          <p-fileUpload
            id="image"
            name="image[]"
            url="www.example.com"
            customUpload="true"
            (uploadHandler)="uploadImages($event)"
            multiple="multiple"
            accept="image/*"
            maxFileSize="1000000000"
          ></p-fileUpload>
        </div>
      </div>
    </p-card>

    <ng-container
      formArrayName="customForms"
      *ngFor="let customForm of customForms().controls; let i = index"
    >
      <app-admin-custom-form
        [formGroup]="customForm"
        [formId]="i"
        [formCount]="customForms().length"
      ></app-admin-custom-form>
    </ng-container>
    <div class="add-new-custom-form mt-5 p-3 border">
      <label class="sr-only" for="add-new-custom-form__input">
        Add a new custom form
      </label>
      <input
        type="text"
        name="add-new-custom-form__input"
        id="add-new-custom-form__input"
        class="add-new-custom-form__input"
        pInputText
        #newCustomFormTitle
      >
      <div class="add-new-custom-form__add-btn ml-2">
        <button (click)="addCustomForm()">
          <i class="material-icons">
            add
          </i>
        </button>
      </div>
    </div>

    <button
      (click)="onSubmit()"
      class="btn btn-primary"
    >
      Add Product
    </button>
  </form>

</ng-container>
